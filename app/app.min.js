function closeLightbox(){var a=document.getElementById("lightbox");a&&(a.classList.add("fade-100-0"),setTimeout(function(){a.parentElement.removeChild(a)},500))}function lightboxClick(){closeLightbox()}function lightboxKeyup(a){var b=document.getElementById("lightbox");if(b)if(27===a.which)closeLightbox();else if(9===a.which){var c=document.querySelector("#lightBoxNav .partial-link:focus");c||document.querySelector("#lightBoxNav li:first-child>.partial-link").focus()}}function lightbox(a){if(!document.getElementById("lightbox")){var b=document.createElement("div");b.id="lightbox",b.classList.add("light-box"),b.appendChild(a),b.addEventListener("click",lightboxClick),document.addEventListener("keyup",lightboxKeyup),document.body.appendChild(b),b.classList.add("fade-0-100")}}function carousel(){function a(a){for(var b=!1,c=0;c<a.length;c++)if(a[c].classList.contains("carousel-off-top")&&!b){a[c].classList.add("carousel-prev"),a[c].classList.remove("carousel-off-top"),b=!0;var d=0>c-1?a.length-1:c-1;a[d].classList.add("carousel-off-top"),a[d].classList.remove("carousel-off-bottom"),a[d].classList.remove("carousel-off")}else a[c].classList.contains("carousel-prev")?(a[c].classList.add("carousel-current"),a[c].classList.remove("carousel-prev")):a[c].classList.contains("carousel-current")?(a[c].classList.add("carousel-next"),a[c].classList.remove("carousel-current")):a[c].classList.contains("carousel-next")?(a[c].classList.add("carousel-off-bottom"),a[c].classList.remove("carousel-next")):a[c].classList.contains("carousel-off-bottom")&&(a[c].classList.add("carousel-off"),a[c].classList.remove("carousel-off-bottom"))}function b(a){for(var b=!1,c=0;c<a.length;c++)if(a[c].classList.contains("carousel-off-top"))a[c].classList.add("carousel-off"),a[c].classList.remove("carousel-off-top");else if(a[c].classList.contains("carousel-prev"))a[c].classList.add("carousel-off-top"),a[c].classList.remove("carousel-prev");else if(a[c].classList.contains("carousel-current"))a[c].classList.add("carousel-prev"),a[c].classList.remove("carousel-current");else if(a[c].classList.contains("carousel-next"))a[c].classList.add("carousel-current"),a[c].classList.remove("carousel-next");else if(a[c].classList.contains("carousel-off-bottom")&&!b){a[c].classList.add("carousel-next"),a[c].classList.remove("carousel-off-bottom"),b=!0;var d=c+1>a.length-1?0:c+1;a[d].classList.add("carousel-off-bottom"),a[d].classList.remove("carousel-off"),a[d].classList.remove("carousel-off-top")}}document.getElementById("carouselNavNext").addEventListener("click",function(){a(document.getElementsByClassName("carousel-img"))}),document.getElementById("carouselNavPrev").addEventListener("click",function(){b(document.getElementsByClassName("carousel-img"))});for(var c=document.getElementsByClassName("carousel-img"),d=0;d<c.length;d++)c[d].addEventListener("click",function(){var a=this.src.replace("/thumbs",""),b=document.createElement("img");b.src=a,b.classList.add("carousel-img-selected"),lightbox(b)})}var app={};app.focusFirstLink=function(a){9!==a.which||a.shiftKey||setTimeout(function(){document.querySelector("#lightBoxNav li:first-child>.partial-link").focus()},50)},app.focusLastLink=function(a){9===a.which&&a.shiftKey&&setTimeout(function(){document.querySelector("#lightBoxNav li:last-child>.partial-link").focus()},50)},app.lightBoxNav=function(){var a=this.dataset.target,b=document.querySelector(a).cloneNode(!0);b.id="lightBoxNav",app.bindRoutes(b),lightbox(b),b.querySelector("li:first-child>.partial-link").addEventListener("keydown",app.focusLastLink),b.querySelector("li:last-child>.partial-link").addEventListener("keydown",app.focusFirstLink)},app.partialEvents={photos:function(){carousel()}},app.loadPartial=function(a,b){b=b||this.dataset.target;var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState&&200===c.status){var a=document.getElementById("content");a.classList.add("fade-100-0"),setTimeout(function(){a.innerHTML=c.responseText,a.classList.add("fade-0-100"),a.classList.remove("fade-100-0"),app.partialEvents[b]&&app.partialEvents[b]()},750)}else 4===c.readyState&&alert("failed")},c.open("GET","views/"+b+".html"),c.send()},app.bindRoutes=function(a){for(var b=a.getElementsByClassName("partial-link"),c=0;c<b.length;c++)b[c].addEventListener("click",app.loadPartial)},app.bindEvents=function(){var a=document.getElementsByClassName("nav-toggle")[0];a.addEventListener("click",app.lightBoxNav),app.bindRoutes(document)},app.bindEvents(),app.loadPartial(null,"home");